---
title: Hibernateをちょっと知った
tags:  Java
categories:  Java DB
author: @buto
status: public
created_at: 2019-11-22 09:18:42 +0900
updated_at: 2019-11-22 23:54:23 +0900
published_at: 2019-11-22 23:54:23 +0900
---
# Hibernateとは
メジャーなO/Rマッパーとしか知らなかった
O/RマッパーはDBFluteを使ったことがありますが、SQLを作っていたことのほうが多かったです
SQLを作成しないで`persist()`、`merge()`メソッドを使ってデータの更新をしているのだと思っていました
# 永続コンテキスト
DBの状態と同期されるインスタンスのようなものなの（かな？）
[JPAを使ったデータアクセスでポイントとなる永続コンテキストについて](https://ryoasai.hatenadiary.org/entry/20110731/1312128474)
永続コンテキストの中にいるEntityオブジェクトはプログラムでINSERT、UPDATEしなくても
トランザクションを抜けると更新されるっぽい
# DBと同期をとっておきたいかどうか？
どのEntityオブジェクトを永続コンテキストに入れて、こっちは外してとかって
仕事だとどういう感じでやるんだろうか。
（仕事で使っているもののネイティブSQLを発行しがちだから知らない）
# いまいち分からなかった
実際に永続コンテキストのEntityオブジェクトの更新を試してみたが更新できず・・・
persist()をすると例外が発生した（永続コンテキストなのに手動でpersistするな的な）
flush()してDBと同期とらせようとしたけど、これでも更新されず
ちゃんと理解したいな
